(this["webpackJsonpmovies-list"]=this["webpackJsonpmovies-list"]||[]).push([[0],{85:function(t,e,n){},86:function(t,e,n){"use strict";n.r(e);var a,i,c,r,o,s,u,l=n(0),d=n.n(l),p=n(20),b=n.n(p),h=n(26),f=n(38),j=n(88),m=n(89),v=n(27),O=n(70),g=n(91),x="375px",w="425px",S="768px",L="1024px",y="1440px",E="2560px",N={mobileS:"(min-width: ".concat("320px",")"),mobileM:"(min-width: ".concat(x,")"),mobileL:"(min-width: ".concat(w,")"),tablet:"(min-width: ".concat(S,")"),laptop:"(min-width: ".concat(L,")"),laptopL:"(min-width: ".concat(y,")"),desktop:"(min-width: ".concat(E,")"),desktopL:"(min-width: ".concat(E,")")},T="Popular movies",k="Search results",_="Favourites",C="Watch later",I="watchLater",A="favourites",J=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w500";return"https://image.tmdb.org/t/p/".concat(e).concat(t)},F=function(t){return JSON.parse(localStorage.getItem(t))||[]},P=v.a.div(a||(a=Object(h.a)(["\n    display: flex;\n    margin-bottom: 40px;\n\n    @media "," {\n        width: 50%;\n    }\n"])),N.tablet),V=v.a.div(i||(i=Object(h.a)(["\n    height: 15%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    @media "," {\n        height: 10%;\n    }\n"])),N.laptopL),B=v.a.img(c||(c=Object(h.a)(["\n    height: 20vh;\n    box-shadow: 0 2px 20px rgba(0, 0, 0, 0.15);\n    border-radius: 5px;\n\n    @media "," {\n        height: 40vh;\n    }\n"])),N.laptopL),D=v.a.div(r||(r=Object(h.a)(["\n    padding: 0 40px 0 20px;\n    display: flex;\n    flex-direction: column;\n\n    h1 {\n        font-size: 1.1rem;\n        font-weight: bold;\n\n        @media "," {\n            font-size: 1.4rem;\n        }\n    }\n\n    p {\n        height: 15vh;\n        overflow: hidden;\n        position: relative;\n        margin: 0;\n\n        @media "," {\n            height: 25vh;\n        }\n\n        &::after {\n            content: '';\n            display: block;\n            width: 100%;\n            height: 40%;\n            background-image: linear-gradient(\n                to bottom,\n                rgba(255, 255, 255, 0) 10%,\n                rgba(255, 255, 255, 1) 85%\n            );\n            position: absolute;\n            bottom: 0;\n        }\n    }\n"])),N.laptop,N.laptopL),M=n(10),U=function(t,e){return F(t).filter((function(t){return t.id===e.id})).length>0},z=function(t){var e=t.movie,n=t.updateStateList,a=e.poster_path,i=e.original_title,c=e.overview,r=Object(l.useState)({watchLater:!1,favourite:!1}),o=Object(f.a)(r,2),s=o[0],u=o[1],d=function(){u({watchLater:U(I,e),favourite:U(A,e)})},p=function(t,e){var a,i=U(t,e),c=F(t);i?(!function(t,e){var n=JSON.parse(localStorage.getItem(t))||[];if(n.filter((function(t){return t.id===e.id})).length){var a=n.filter((function(t){return t.id!==e.id}));localStorage.setItem(t,JSON.stringify(a))}}(t,e),a=c.filter((function(t){return t.id!==e.id}))):(!function(t,e){var n=JSON.parse(localStorage.getItem(t))||[];n.filter((function(t){return t.id===e.id})).length||n.push(e),localStorage.setItem(t,JSON.stringify(n))}(t,e),a=[].concat(Object(O.a)(c),[e])),n(t,a)};return Object(l.useEffect)((function(){d()}),[]),Object(M.jsxs)(P,{children:[Object(M.jsx)(B,{src:J(a),alt:i}),Object(M.jsxs)(D,{children:[Object(M.jsx)("h1",{children:i}),Object(M.jsx)("p",{children:c}),Object(M.jsxs)(V,{children:[Object(M.jsx)("span",{children:"Favourites:"}),Object(M.jsx)(g.a,{checked:s.favourite,onChange:function(){p(A,e),d()}})]}),Object(M.jsxs)(V,{children:[Object(M.jsx)("span",{children:"Watch later:"}),Object(M.jsx)(g.a,{checked:s.watchLater,onChange:function(){p(I,e),d()}})]})]})]})},R=v.a.div(o||(o=Object(h.a)(["\n    display: flex;\n    flex-wrap: wrap;\n\n    @media "," {\n        padding: 10px 30px;\n    }\n"])),N.laptopL),W=function(t){var e=t.movies,n=t.updateStateList;return Object(M.jsx)(R,{children:e.map((function(t){return Object(M.jsx)(z,{movie:t,updateStateList:n},t.id)}))})},q=n(34),G=n.n(q),H=n(52),K="a5be41cb9776230a9edbf288fc44483d",Q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"https://api.themoviedb.org/3".concat(t,"?api_key=").concat(K).concat(e)},X=function(){var t=Object(H.a)(G.a.mark((function t(e,n){var a,i,c;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=Q(e,n),t.next=4,fetch(i);case 4:return c=t.sent,t.next=7,c.json();case 7:a=t.sent,t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),a=null;case 14:return t.abrupt("return",a);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}(),Y=function(){var t=Object(H.a)(G.a.mark((function t(){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",X("/movie/popular"));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Z=function(){var t=Object(H.a)(G.a.mark((function t(e){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",X("/search/movie","&query=".concat(e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),$=function(t,e){var n=Object(l.useState)(t),a=Object(f.a)(n,2),i=a[0],c=a[1];return Object(l.useEffect)((function(){var n=setTimeout((function(){c(t)}),e);return function(){clearTimeout(n)}}),[t,e]),i},tt=n(48),et=n(22),nt="SET_MOVIES",at="SET_SEARCH_VALUE",it="SET_LOADING",ct="UPDATE_STATE_LIST",rt={favourites:[],watchLater:[],movies:[],searchValue:"",tabName:"",loading:!1},ot=function(t,e){switch(e.type){case nt:return Object(et.a)(Object(et.a)({},t),{},{movies:e.movies,tabName:e.tabName});case at:return Object(et.a)(Object(et.a)({},t),{},{searchValue:e.value});case it:return Object(et.a)(Object(et.a)({},t),{},{loading:e.loading});case"SET_TABNAME":case"SET_DEBOUNCE_SUCCESS":return Object(et.a)(Object(et.a)({},t),{},{tabName:e.name});case ct:return console.log(e),Object(et.a)(Object(et.a)({},t),{},Object(tt.a)({},e.listName,e.updatedList));default:throw new Error}},st=j.a.TabPane,ut=m.a.Search,lt=v.a.div(s||(s=Object(h.a)(["\n    width: 95%;\n    height: 100%;\n    background-color: #fff;\n    border-radius: 10px;\n    padding: 24px;\n    display: flex;\n    flex-direction: column;\n    margin: 10px auto;\n\n    @media "," {\n        width: 85%;\n    }\n\n    @media "," {\n        margin: 50px auto;\n        width: 65%;\n    }\n"])),N.laptop,N.laptopL),dt=Object(v.a)(ut)(u||(u=Object(h.a)(["\n    margin-bottom: 20px;\n"]))),pt=function(){var t=Object(l.useReducer)(ot,rt),e=Object(f.a)(t,2),n=e[0],a=e[1],i=$(n.searchValue,500),c=function(t,e){a({type:it,loading:!0}),t(e).then((function(t){var n=t.results;a({type:nt,movies:n,tabName:e?k:T}),a({type:it,loading:!1})}))},r=function(t,e){a({type:ct,listName:t,updatedList:e})};return Object(l.useEffect)((function(){i?c(Z,i):c(Y)}),[i]),Object(l.useEffect)((function(){r(I,F(I)),r(A,F(A))}),[]),Object(M.jsxs)(lt,{children:[Object(M.jsx)(dt,{placeholder:"input search text",size:"large",onChange:function(t){a({type:at,value:t.target.value})},loading:n.loading,allowClear:!0}),Object(M.jsxs)(j.a,{defaultActiveKey:"1",children:[Object(M.jsx)(st,{tab:n.tabName,children:Object(M.jsx)(W,{movies:n.movies,updateStateList:r})},"1"),Object(M.jsx)(st,{tab:_,children:Object(M.jsx)(W,{movies:n.favourites,updateStateList:r})},"2"),Object(M.jsx)(st,{tab:C,children:Object(M.jsx)(W,{movies:n.watchLater,updateStateList:r})},"3")]})]})},bt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,92)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,c=e.getLCP,r=e.getTTFB;n(t),a(t),i(t),c(t),r(t)}))};n(84),n(85);b.a.render(Object(M.jsx)(d.a.StrictMode,{children:Object(M.jsx)(pt,{})}),document.getElementById("root")),bt()}},[[86,1,2]]]);
//# sourceMappingURL=main.add39798.chunk.js.map